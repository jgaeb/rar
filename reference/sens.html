<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="sens() performs sensitivity analysis on a risk-adjusted regression by
computing the maximum and minimum regression coefficients consistent with the
data and the analyst's prior knowledge, expressed through epsilon, the
bound on the mean absolute difference between the true and estimated risks.
It additionally can provide bootstrapped pointwise confidence intervals for
the regression coefficients."><title>Perform sensitivity analysis on a risk-adjusted regression — sens • rar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform sensitivity analysis on a risk-adjusted regression — sens"><meta property="og:description" content="sens() performs sensitivity analysis on a risk-adjusted regression by
computing the maximum and minimum regression coefficients consistent with the
data and the analyst's prior knowledge, expressed through epsilon, the
bound on the mean absolute difference between the true and estimated risks.
It additionally can provide bootstrapped pointwise confidence intervals for
the regression coefficients."><meta property="og:image" content="https://rar.jgaeb.com/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jgaeb/rar/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Perform sensitivity analysis on a risk-adjusted regression</h1>
      <small class="dont-index">Source: <a href="https://github.com/jgaeb/rar/blob/HEAD/R/sens.R" class="external-link"><code>R/sens.R</code></a></small>
      <div class="d-none name"><code>sens.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>sens()</code> performs sensitivity analysis on a risk-adjusted regression by
computing the maximum and minimum regression coefficients consistent with the
data and the analyst's prior knowledge, expressed through <code>epsilon</code>, the
bound on the mean absolute difference between the true and estimated risks.
It additionally can provide bootstrapped pointwise confidence intervals for
the regression coefficients.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sens</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">group_col</span>,</span>
<span>  <span class="va">obs_col</span>,</span>
<span>  <span class="va">p_col</span>,</span>
<span>  <span class="va">base_group</span>,</span>
<span>  <span class="va">epsilon</span>,</span>
<span>  lwr_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  upr_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eta <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">101L</span>,</span>
<span>  N <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>The data frame containing the data.</p></dd>


<dt>group_col</dt>
<dd><p>The name of the column containing the group labels. This
column should be a factor or coercible to a factor.</p></dd>


<dt>obs_col</dt>
<dd><p>The name of the column containing whether or not the outcome
was observed. This column should be a logical or coercible to a logical.</p></dd>


<dt>p_col</dt>
<dd><p>The name of the column containing the estimated risks. These
risks should be expressed on the probability scale, i.e., be between 0 and 1.</p></dd>


<dt>base_group</dt>
<dd><p>The name of the base group. This group will be used as the
reference group in the regression.</p></dd>


<dt>epsilon</dt>
<dd><p>The bound on the mean absolute difference between the true and
estimated risks.</p></dd>


<dt>lwr_col</dt>
<dd><p>The name of the column containing the lower bounds on the true
risk. (Defaults to 0 for all observations.)</p></dd>


<dt>upr_col</dt>
<dd><p>The name of the column containing the upper bounds on the true
risk. (Defaults to 1 for all observations.)</p></dd>


<dt>eta</dt>
<dd><p>The step size for the grid search.  Note that while steps are
taken at the group level, the step size is expressed at the level of change
in average risk <em>across the entire population</em>. In other words, smaller
groups will have proportionally larger steps. (Defaults to 0.01.)</p></dd>


<dt>m</dt>
<dd><p>The grid size for the maximization approximation. (Defaults to
<code>101</code>.)</p></dd>


<dt>N</dt>
<dd><p>The number of bootstrap resamples to use to compute pointwise
confidence intervals. (Defaults to 0, which performs no bootstrap.)</p></dd>


<dt>alpha</dt>
<dd><p>The confidence level for the pointwise confidence intervals.
(Defaults to 0.05.)</p></dd>


<dt>chunk_size</dt>
<dd><p>The number of repetitions to perform in each chunk when run
in parallel. Larger chunk sizes make it less likely that separate threads
will block on each other, but also make it more likely that the threads will
finish at different times. (Defaults to 100.)</p></dd>


<dt>n_threads</dt>
<dd><p>The number of threads to use when running in parallel.
(Defaults to 1, i.e., serial execution.)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame containing the following columns:</p><ul><li><p><code>epsilon</code>: Values of epsilon ranging from 0 to the input value of <code>epsilon</code>
in <code>m</code> steps.</p></li>
<li><p><code>beta_min_{group}</code>: The minimum value of the regression coefficient for the
group <code>group</code>. (Note that the base group is not included in this list.)</p></li>
<li><p><code>beta_max_{group}</code>: The maximum value of the regression coefficient for the
group <code>group</code>. (Note that the base group is not included in this list.)</p></li>
<li><p>(<strong>If <code>N &gt; 0</code></strong>) <code>beta_min_{group}_{alpha/2}</code>: The <code>alpha/2</code> quantile of
the bootstrap distribution of the minimum value of the regression coefficient
for group <code>group</code>. (Note that the base group is not included in this list.)</p></li>
<li><p>(<strong>If <code>N &gt; 0</code></strong>) <code>beta_min_{group}_{1 - alpha/2}</code>: The <code>1 - alpha/2</code>
quantile of the bootstrap distribution of the minimum value of the regression
coefficient for group <code>group</code>. (Note that the base group is not included in
this list.)</p></li>
<li><p>(<strong>If <code>N &gt; 0</code></strong>) <code>beta_max_{group}_{alpha/2}</code>: The <code>alpha/2</code> quantile of
the bootstrap distribution of the maximum value of the regression coefficient
for group <code>group</code>. (Note that the base group is not included in this list.)</p></li>
<li><p>(<strong>If <code>N &gt; 0</code></strong>) <code>beta_max_{group}_{1 - alpha/2}</code>: The <code>1 - alpha/2</code>
quantile of the bootstrap distribution of the maximum value of the regression
coefficient for group <code>group</code>. (Note that the base group is not included in
this list.)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    


<p>The sensitivity analysis assumes that every group contains at least one
observed and one unobserved individual, and that the estimated risks and
upper and lower bounds are "sortable," i.e., that there exists a permutation
of the rows such that the estimated risks and upper and lower bounds are all
non-decreasing within each group and observation status. If these conditions
are not met, the function will throw an error.</p>
<p>To ensure that these conditions continue to hold, the bootstrap resamples are
stratified by group and observation status. As a result, in small samples,
the confidence intervals may be slightly narrowed, since they do not account
for uncertainty in the number of individuals in each group, and the number of
observed and unobserved individuals within each group.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate some data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>, <span class="fl">1000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>  frisked <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">p</span> <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="op">(</span><span class="va">group</span> <span class="op">!=</span> <span class="st">"a"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute the sensitivity analysis</span></span></span>
<span class="r-in"><span><span class="fu">sens</span><span class="op">(</span><span class="va">df</span>, <span class="va">group</span>, <span class="va">frisked</span>, <span class="va">p</span>, <span class="st">"a"</span>, <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 101 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    epsilon beta_min_b beta_max_b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   0          0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   0.001      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   0.002      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   0.003      0.101      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   0.004      0.101      0.103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   0.005      0.101      0.103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   0.006      0.101      0.103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   0.007      0.101      0.103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   0.008      0.101      0.103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   0.009      0.100      0.103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 91 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Search over a finer grid</span></span></span>
<span class="r-in"><span><span class="fu">sens</span><span class="op">(</span><span class="va">df</span>, <span class="va">group</span>, <span class="va">frisked</span>, <span class="va">p</span>, <span class="st">"a"</span>, <span class="fl">0.1</span>, eta <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 101 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    epsilon beta_min_b beta_max_b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   0         0.102       0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   0.001     0.099<span style="text-decoration: underline;">5</span>      0.104</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   0.002     0.097<span style="text-decoration: underline;">2</span>      0.106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   0.003     0.094<span style="text-decoration: underline;">8</span>      0.108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   0.004     0.092<span style="text-decoration: underline;">4</span>      0.110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   0.005     0.090<span style="text-decoration: underline;">0</span>      0.112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   0.006     0.087<span style="text-decoration: underline;">6</span>      0.114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   0.007     0.085<span style="text-decoration: underline;">1</span>      0.116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   0.008     0.082<span style="text-decoration: underline;">7</span>      0.119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   0.009     0.080<span style="text-decoration: underline;">2</span>      0.121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 91 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Increase the accuracy of the maximization approximation</span></span></span>
<span class="r-in"><span><span class="fu">sens</span><span class="op">(</span><span class="va">df</span>, <span class="va">group</span>, <span class="va">frisked</span>, <span class="va">p</span>, <span class="st">"a"</span>, <span class="fl">0.1</span>, m <span class="op">=</span> <span class="fl">1001</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1,001 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    epsilon beta_min_b beta_max_b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  0           0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  0.000<span style="text-decoration: underline;">1</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  0.000<span style="text-decoration: underline;">2</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  0.000<span style="text-decoration: underline;">3</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  0.000<span style="text-decoration: underline;">4</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  0.000<span style="text-decoration: underline;">5</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  0.000<span style="text-decoration: underline;">6</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  0.000<span style="text-decoration: underline;">7</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  0.000<span style="text-decoration: underline;">8</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  0.000<span style="text-decoration: underline;">9</span>      0.102      0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 991 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Calculate 90% pointwise confidence intervals</span></span></span>
<span class="r-in"><span><span class="fu">sens</span><span class="op">(</span><span class="va">df</span>, <span class="va">group</span>, <span class="va">frisked</span>, <span class="va">p</span>, <span class="st">"a"</span>, <span class="fl">0.1</span>, N <span class="op">=</span> <span class="fl">1000</span>, alpha <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Resamples <span style="color: #00BB00;">■■■■■                           </span>  13% |  ETA: 13s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Resamples <span style="color: #00BB00;">■■■■■■■■■■■                     </span>  32% |  ETA: 10s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Resamples <span style="color: #00BB00;">■■■■■■■■■■■■■■■■                </span>  51% |  ETA:  8s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Resamples <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■         </span>  72% |  ETA:  4s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Resamples <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■   </span>  93% |  ETA:  1s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 101 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    epsilon beta_min_b_05.0 beta_min_b_95.0 beta_max_b_05.0 beta_max_b_95.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   0              0.076<span style="text-decoration: underline;">7</span>           0.126          0.076<span style="text-decoration: underline;">7</span>           0.126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   0.001          0.076<span style="text-decoration: underline;">2</span>           0.126          0.076<span style="text-decoration: underline;">8</span>           0.126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   0.002          0.075<span style="text-decoration: underline;">8</span>           0.126          0.077<span style="text-decoration: underline;">0</span>           0.126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   0.003          0.075<span style="text-decoration: underline;">4</span>           0.126          0.077<span style="text-decoration: underline;">2</span>           0.126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   0.004          0.075<span style="text-decoration: underline;">0</span>           0.126          0.077<span style="text-decoration: underline;">4</span>           0.126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   0.005          0.074<span style="text-decoration: underline;">6</span>           0.126          0.077<span style="text-decoration: underline;">6</span>           0.127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   0.006          0.074<span style="text-decoration: underline;">2</span>           0.126          0.077<span style="text-decoration: underline;">8</span>           0.127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   0.007          0.073<span style="text-decoration: underline;">8</span>           0.126          0.077<span style="text-decoration: underline;">9</span>           0.127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   0.008          0.073<span style="text-decoration: underline;">5</span>           0.126          0.078<span style="text-decoration: underline;">1</span>           0.127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   0.009          0.073<span style="text-decoration: underline;">1</span>           0.126          0.078<span style="text-decoration: underline;">3</span>           0.127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 91 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: beta_min_b &lt;dbl&gt;, beta_max_b &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run in parallel, adjusting the chunk size to avoid blocking</span></span></span>
<span class="r-in"><span><span class="fu">sens</span><span class="op">(</span><span class="va">df</span>, <span class="va">group</span>, <span class="va">frisked</span>, <span class="va">p</span>, <span class="st">"a"</span>, <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  n_threads <span class="op">=</span> <span class="fl">4</span>, eta <span class="op">=</span> <span class="fl">0.0001</span>,</span></span>
<span class="r-in"><span>  chunk_size <span class="op">=</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 101 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    epsilon beta_min_b beta_max_b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   0         0.102       0.102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   0.001     0.099<span style="text-decoration: underline;">5</span>      0.104</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   0.002     0.097<span style="text-decoration: underline;">2</span>      0.106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   0.003     0.094<span style="text-decoration: underline;">8</span>      0.108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   0.004     0.092<span style="text-decoration: underline;">4</span>      0.111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   0.005     0.090<span style="text-decoration: underline;">0</span>      0.113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   0.006     0.087<span style="text-decoration: underline;">6</span>      0.115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   0.007     0.085<span style="text-decoration: underline;">1</span>      0.116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   0.008     0.082<span style="text-decoration: underline;">7</span>      0.119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   0.009     0.080<span style="text-decoration: underline;">2</span>      0.121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 91 more rows</span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Johann Gaebler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

