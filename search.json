[{"path":"https://rar.jgaeb.com/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Johann D. Gaebler Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rar.jgaeb.com/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Johann Gaebler. Author, maintainer, copyright holder.","code":""},{"path":"https://rar.jgaeb.com/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jung J, Corbett-Davies S, Gaebler JD, Shroff R, Goel S (2024). “Mitigating Omitted- Included-Variable Bias Estimates Disparate Impact.”","code":"@Misc{,   title = {Mitigating Omitted- and Included-Variable Bias in Estimates of Disparate Impact},   author = {Jongbin Jung and Sam Corbett-Davies and Johann D. Gaebler and Ravi Shroff and Sharad Goel},   year = {2024},   ulr = {https://arxiv.org/abs/1809.05651}, }"},{"path":"https://rar.jgaeb.com/index.html","id":"rar-","dir":"","previous_headings":"","what":"Risk-Adjusted Regression","title":"Risk-Adjusted Regression","text":"Quantitative studies disparate impact face two key challenges: Omitted-variable bias occurs analyst omits relevant variables, like job applicant’s work history, regression model. Included-variable bias occurs researcher includes variables regression model relevant outcome interest, like job applicant’s height. variables can mask relevance gender, race, protected attributes. rar package supports risk-adjusted regression, framework mitigating included-variable bias. computes risk-adjusted disparities performs interpretable sensitivity analysis can used assess robustness regression results omitted-variable bias. See “Mitigating Included- Omitted-Variable Bias Estimates Disparate” details.","code":""},{"path":"https://rar.jgaeb.com/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Risk-Adjusted Regression","text":"can install latest stable release rar CRAN : can install development version rar GitHub :","code":"install.packages(\"rar\") # install.packages(\"devtools\") devtools::install_github(\"jgaeb/rar\")"},{"path":"https://rar.jgaeb.com/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Risk-Adjusted Regression","text":"perform risk-adjusted regression, use sens() function.","code":"library(rar)  # Generate some data set.seed(1) df <- tibble::tibble(   group = factor(     sample(c(\"a\", \"b\"), 1000, replace = TRUE),     levels = c(\"a\", \"b\")   ),   p = runif(1000)^2,   frisked = runif(1000) < p + 0.1 * (group != \"a\") )  # Compute risk-adjusted regression coefficients and perform sensitivity analysis sens(df, group, frisked, p, \"a\", 0.1, eta = 0.001, m = 10) #> # A tibble: 10 × 3 #>    epsilon beta_min_b beta_max_b #>      <dbl>      <dbl>      <dbl> #>  1  0          0.102       0.102 #>  2  0.0111     0.0752      0.125 #>  3  0.0222     0.0472      0.151 #>  4  0.0333     0.0185      0.178 #>  5  0.0444    -0.0106      0.207 #>  6  0.0556    -0.0394      0.236 #>  7  0.0667    -0.0677      0.265 #>  8  0.0778    -0.0950      0.295 #>  9  0.0889    -0.123       0.324 #> 10  0.1       -0.151       0.354"},{"path":"https://rar.jgaeb.com/reference/sens.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform sensitivity analysis on a risk-adjusted regression — sens","title":"Perform sensitivity analysis on a risk-adjusted regression — sens","text":"sens() performs sensitivity analysis risk-adjusted regression computing maximum minimum regression coefficients consistent data analyst's prior knowledge, expressed epsilon, bound mean absolute difference true estimated risks. additionally can provide bootstrapped pointwise confidence intervals regression coefficients.","code":""},{"path":"https://rar.jgaeb.com/reference/sens.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform sensitivity analysis on a risk-adjusted regression — sens","text":"","code":"sens(   df,   group_col,   obs_col,   p_col,   base_group,   epsilon,   lwr_col = NULL,   upr_col = NULL,   eta = 0.01,   m = 101L,   N = 0L,   alpha = 0.05,   chunk_size = 100L,   n_threads = 1L )"},{"path":"https://rar.jgaeb.com/reference/sens.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform sensitivity analysis on a risk-adjusted regression — sens","text":"df data frame containing data. group_col name column containing group labels. column factor coercible factor. obs_col name column containing whether outcome observed. column logical coercible logical. p_col name column containing estimated risks. risks expressed probability scale, .e., 0 1. base_group name base group. group used reference group regression. epsilon bound mean absolute difference true estimated risks. lwr_col name column containing lower bounds true risk. (Defaults 0 observations.) upr_col name column containing upper bounds true risk. (Defaults 1 observations.) eta step size grid search.  Note steps taken group level, step size expressed level change average risk across entire population. words, smaller groups proportionally larger steps. (Defaults 0.01.) m grid size maximization approximation. (Defaults 101.) N number bootstrap resamples use compute pointwise confidence intervals. (Defaults 0, performs bootstrap.) alpha confidence level pointwise confidence intervals. (Defaults 0.05.) chunk_size number repetitions perform chunk run parallel. Larger chunk sizes make less likely separate threads block , also make likely threads finish different times. (Defaults 100.) n_threads number threads use running parallel. (Defaults 1, .e., serial execution.)","code":""},{"path":"https://rar.jgaeb.com/reference/sens.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform sensitivity analysis on a risk-adjusted regression — sens","text":"data frame containing following columns: epsilon: Values epsilon ranging 0 input value epsilon m steps. beta_min_{group}: minimum value regression coefficient group group. (Note base group included list.) beta_max_{group}: maximum value regression coefficient group group. (Note base group included list.) (N > 0) beta_min_{group}_{alpha/2}: alpha/2 quantile bootstrap distribution minimum value regression coefficient group group. (Note base group included list.) (N > 0) beta_min_{group}_{1 - alpha/2}: 1 - alpha/2 quantile bootstrap distribution minimum value regression coefficient group group. (Note base group included list.) (N > 0) beta_max_{group}_{alpha/2}: alpha/2 quantile bootstrap distribution maximum value regression coefficient group group. (Note base group included list.) (N > 0) beta_max_{group}_{1 - alpha/2}: 1 - alpha/2 quantile bootstrap distribution maximum value regression coefficient group group. (Note base group included list.)","code":""},{"path":"https://rar.jgaeb.com/reference/sens.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform sensitivity analysis on a risk-adjusted regression — sens","text":"sensitivity analysis assumes every group contains least one observed one unobserved individual, estimated risks upper lower bounds \"sortable,\" .e., exists permutation rows estimated risks upper lower bounds non-decreasing within group observation status. conditions met, function throw error. ensure conditions continue hold, bootstrap resamples stratified group observation status. result, small samples, confidence intervals may slightly narrowed, since account uncertainty number individuals group, number observed unobserved individuals within group.","code":""},{"path":"https://rar.jgaeb.com/reference/sens.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform sensitivity analysis on a risk-adjusted regression — sens","text":"","code":"# Generate some data set.seed(1) df <- tibble::tibble(   group = factor(     sample(c(\"a\", \"b\"), 1000, replace = TRUE),     levels = c(\"a\", \"b\")   ),   p = runif(1000)^2,   frisked = runif(1000) < p + 0.1 * (group != \"a\") )  # Compute the sensitivity analysis sens(df, group, frisked, p, \"a\", 0.1) #> # A tibble: 101 × 3 #>    epsilon beta_min_b beta_max_b #>      <dbl>      <dbl>      <dbl> #>  1   0          0.102      0.102 #>  2   0.001      0.102      0.102 #>  3   0.002      0.102      0.102 #>  4   0.003      0.101      0.102 #>  5   0.004      0.101      0.103 #>  6   0.005      0.101      0.103 #>  7   0.006      0.101      0.103 #>  8   0.007      0.101      0.103 #>  9   0.008      0.101      0.103 #> 10   0.009      0.100      0.103 #> # ℹ 91 more rows  # Search over a finer grid sens(df, group, frisked, p, \"a\", 0.1, eta = 0.001) #> # A tibble: 101 × 3 #>    epsilon beta_min_b beta_max_b #>      <dbl>      <dbl>      <dbl> #>  1   0         0.102       0.102 #>  2   0.001     0.0995      0.104 #>  3   0.002     0.0972      0.106 #>  4   0.003     0.0948      0.108 #>  5   0.004     0.0924      0.110 #>  6   0.005     0.0900      0.112 #>  7   0.006     0.0876      0.114 #>  8   0.007     0.0851      0.116 #>  9   0.008     0.0827      0.119 #> 10   0.009     0.0802      0.121 #> # ℹ 91 more rows  # Increase the accuracy of the maximization approximation sens(df, group, frisked, p, \"a\", 0.1, m = 1001) #> # A tibble: 1,001 × 3 #>    epsilon beta_min_b beta_max_b #>      <dbl>      <dbl>      <dbl> #>  1  0           0.102      0.102 #>  2  0.0001      0.102      0.102 #>  3  0.0002      0.102      0.102 #>  4  0.0003      0.102      0.102 #>  5  0.0004      0.102      0.102 #>  6  0.0005      0.102      0.102 #>  7  0.0006      0.102      0.102 #>  8  0.0007      0.102      0.102 #>  9  0.0008      0.102      0.102 #> 10  0.0009      0.102      0.102 #> # ℹ 991 more rows  # \\donttest{ # Calculate 90% pointwise confidence intervals sens(df, group, frisked, p, \"a\", 0.1, N = 1000, alpha = 0.1) #> Resamples ■■■■■■                            17% |  ETA: 13s #> Resamples ■■■■■■■■■■■■                      36% |  ETA: 10s #> Resamples ■■■■■■■■■■■■■■■■■■                55% |  ETA:  7s #> Resamples ■■■■■■■■■■■■■■■■■■■■■■■■          75% |  ETA:  4s #> Resamples ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■     95% |  ETA:  1s #> # A tibble: 101 × 7 #>    epsilon beta_min_b_05.0 beta_min_b_95.0 beta_max_b_05.0 beta_max_b_95.0 #>      <dbl>           <dbl>           <dbl>           <dbl>           <dbl> #>  1   0              0.0767           0.126          0.0767           0.126 #>  2   0.001          0.0762           0.126          0.0768           0.126 #>  3   0.002          0.0758           0.126          0.0770           0.126 #>  4   0.003          0.0754           0.126          0.0772           0.126 #>  5   0.004          0.0750           0.126          0.0774           0.126 #>  6   0.005          0.0746           0.126          0.0776           0.127 #>  7   0.006          0.0742           0.126          0.0778           0.127 #>  8   0.007          0.0738           0.126          0.0779           0.127 #>  9   0.008          0.0735           0.126          0.0781           0.127 #> 10   0.009          0.0731           0.126          0.0783           0.127 #> # ℹ 91 more rows #> # ℹ 2 more variables: beta_min_b <dbl>, beta_max_b <dbl>  # Run in parallel, adjusting the chunk size to avoid blocking sens(df, group, frisked, p, \"a\", 0.1, n_threads = 2, eta = 0.0001,      chunk_size = 1000) #> # A tibble: 101 × 3 #>    epsilon beta_min_b beta_max_b #>      <dbl>      <dbl>      <dbl> #>  1   0         0.102       0.102 #>  2   0.001     0.0995      0.104 #>  3   0.002     0.0972      0.106 #>  4   0.003     0.0948      0.108 #>  5   0.004     0.0924      0.111 #>  6   0.005     0.0900      0.113 #>  7   0.006     0.0876      0.115 #>  8   0.007     0.0851      0.116 #>  9   0.008     0.0827      0.119 #> 10   0.009     0.0802      0.121 #> # ℹ 91 more rows # }"},{"path":"https://rar.jgaeb.com/news/index.html","id":"rar-003","dir":"Changelog","previous_headings":"","what":"rar 0.0.3","title":"rar 0.0.3","text":"CRAN release: 2024-01-24 Fix link-time optimization bug.","code":""},{"path":"https://rar.jgaeb.com/news/index.html","id":"rar-002","dir":"Changelog","previous_headings":"","what":"rar 0.0.2","title":"rar 0.0.2","text":"CRAN release: 2024-01-18 Resubmission CRAN.","code":""},{"path":"https://rar.jgaeb.com/news/index.html","id":"rar-001","dir":"Changelog","previous_headings":"","what":"rar 0.0.1","title":"rar 0.0.1","text":"Initial CRAN submission.","code":""}]
